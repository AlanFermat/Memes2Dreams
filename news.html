<!DOCTYPE html>
<html>
<body>
 
<h1>Quick Button Check</h1>
<p id = "announce"></p>
<button type = "button" onclick="retrieveNews('cancer')">Cancer</button>
<button type = "button" onclick="retrieveNews('immigration')">Immigration Issues</button>
 
<script>
 
var allNews = [];
function retrieveNews(strSocialIssue) {
    var issueCall = 'q=' + strSocialIssue +'&';
    var url = 'https://newsapi.org/v2/everything?' +
           'language=en&' +
          issueCall +
         'apiKey=b8b1367fefdb4995a117ca642f6a87aa';
    var req = new Request(url);
    fetch(req)
        .then(response => {
            return response.json()
        })
        .then(data => {
   
            var i;
            for(i = 0; i < data.articles.length; i++) {
               newsSubset = [];
               console.log(data.articles[i].title, data.articles[i].url, data.articles[i].urlToImage);
               newsSubset.push(data.articles[i].title, data.articles[i].url, data.articles[i].urlToImage);
               allNews.push(newsSubset)
         
   }
       console.log(allNews);
       document.getElementById("announce").innerHTML = "Data retrieved for topic: " + strSocialIssue
})
   
   
   
}
   
</script>
</body>
</html>




